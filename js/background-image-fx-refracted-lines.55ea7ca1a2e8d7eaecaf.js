"use strict";(self.webpackChunknew_bedford_framework=self.webpackChunknew_bedford_framework||[]).push([[2989],{22302:function(t,e,n){n.d(e,{A:function(){return w}});var o=n(64467),r=!!("ontouchstart"in window||window.navigator.maxTouchPoints>0||window.navigator.msMaxTouchPoints>0||window.DocumentTouch&&document instanceof DocumentTouch),i="none",u="mouse",c="scroll",s=n(23029),f=n(92901),a=function(){return(0,f.A)((function t(e){var n=e.shiftUniform,o=e.props,r=e.node;(0,s.A)(this,t),this.shiftUniform=n,this.props=o,this.node=r}),[{key:"setProps",value:function(t){this.props=t}},{key:"setImmediate",value:function(){}},{key:"setIsIntersecting",value:function(){}},{key:"setScrollProgress",value:function(){}},{key:"update",value:function(){return this.shiftUniform[0]=0,this.shiftUniform[1]=0,!1}},{key:"destroy",value:function(){}}])}(),l=(n(94226),n(50388)),p=n(53954),h=n(85501);function v(t,e,n){return e=(0,p.A)(e),(0,l.A)(t,y()?Reflect.construct(e,n||[],(0,p.A)(t).constructor):e.apply(t,n))}function y(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(y=function(){return!!t})()}var m=function(t){function e(){var t;(0,s.A)(this,e);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return t=v(this,e,[].concat(r)),(0,o.A)(t,"shiftTarget",[0,0]),(0,o.A)(t,"shiftResetTID",-1),(0,o.A)(t,"onPointerMove",(function(e){var n=t.node.getBoundingClientRect(),o=(e.clientX-n.left)/n.width,r=(e.clientY-n.top)/n.height;t.shiftTarget[0]=-2*o+1,t.shiftTarget[1]=2*r-1,t.onPointerLeave()})),(0,o.A)(t,"onPointerLeave",(function(){clearTimeout(t.shiftResetTID),t.shiftResetTID=setTimeout(t.resetShift,2e3)})),(0,o.A)(t,"resetShift",(function(){t.shiftTarget=[0,0]})),t}return(0,h.A)(e,t),(0,f.A)(e,[{key:"setIsIntersecting",value:function(t){t?this.enable():this.disable()}},{key:"enable",value:function(){this.node.addEventListener("mousemove",this.onPointerMove),this.node.addEventListener("mouseleave",this.onPointerLeave)}},{key:"disable",value:function(){this.node.removeEventListener("mousemove",this.onPointerMove),this.node.removeEventListener("mouseleave",this.onPointerLeave)}},{key:"update",value:function(){var t=this.props,e=t.shiftSpeed,n=t.mouseX,o=t.mouseY,r=this.shiftUniform,i=this.shiftTarget;-1!==n&&-1!==o&&(i=[.01*n*-2+1,.01*o*2-1]);var u=i[0]-r[0],c=i[1]-r[1];return(0!==u||0!==c)&&(r[0]+=u*(.002*e),r[1]+=c*(.002*e),!0)}},{key:"destroy",value:function(){this.disable(),clearTimeout(this.shiftResetTID)}}])}(a);function d(t,e,n){return e=(0,p.A)(e),(0,l.A)(t,b()?Reflect.construct(e,n||[],(0,p.A)(t).constructor):e.apply(t,n))}function b(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(b=function(){return!!t})()}var g=function(t){function e(){var t;(0,s.A)(this,e);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return t=d(this,e,[].concat(r)),(0,o.A)(t,"targetProgress",0),(0,o.A)(t,"isImmediate",!0),t}return(0,h.A)(e,t),(0,f.A)(e,[{key:"setIsIntersecting",value:function(t){t&&this.setImmediate()}},{key:"setImmediate",value:function(){this.isImmediate=!0}},{key:"setScrollProgress",value:function(t){this.isImmediate&&(this.shiftUniform[1]=t,this.isImmediate=!1),this.targetProgress=t}},{key:"update",value:function(){var t=this.props,e=t.shiftSpeed,n=t.scrollProgress,o=this.shiftUniform[1],r=this.targetProgress;if(n>=0&&(r=.01*n),o===r)return!1;var i=r-o;return this.shiftUniform[1]=i<.01?r:o+i*(.01*e),this.shiftUniform[0]=0,!0}}])}(a),S=(0,o.A)((0,o.A)((0,o.A)({},i,a),c,g),u,m),w=function(t){return t===u&&r?S[c]:S[t]}},27478:function(t,e,n){n.d(e,{A:function(){return d}});n(94226);var o=n(23029),r=n(92901),i=n(50388),u=n(53954),c=n(90991),s=n(85501),f=n(64467),a=n(91546),l=n(22302);function p(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function h(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?p(Object(n),!0).forEach((function(e){(0,f.A)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function v(t,e,n){return e=(0,u.A)(e),(0,i.A)(t,y()?Reflect.construct(e,n||[],(0,u.A)(t).constructor):e.apply(t,n))}function y(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(y=function(){return!!t})()}function m(t,e,n,o){var r=(0,c.A)((0,u.A)(1&o?t.prototype:t),e,n);return 2&o&&"function"==typeof r?function(t){return r.apply(n,t)}:r}var d=function(t){function e(t,n){var r;return(0,o.A)(this,e),r=v(this,e,[t,h({programKey:"refracted-lines-program",frag:"\nfloat ease(float t) {\n  float f = t - 1.0;\n  return f * f * f + 1.0;\n}\n\nuniform sampler2D uImage;\nuniform float uBulge;\nuniform float uLineCount;\nuniform float uLineRegionSize;\nuniform float uLineSize;\nuniform float uRotation;\nuniform float uScale;\nuniform float uShiftIntensity;\nuniform vec2 uOffsetScale;\nuniform vec2 uResolution;\nuniform vec2 uShift;\n\nvarying vec2 vUv;\n\nvec2 rotate(vec2 uv, float amount) {\n  vec2 prime = vec2(uv.x * cos(amount) + uv.y * sin(amount),\n    -uv.x * sin(amount) + uv.y * cos(amount));\n  return prime;\n}\n\nfloat getStep (vec2 uv) {\n  return (1.0 + floor(distance(uv.x, 0.0) / uLineRegionSize * uLineCount));\n}\n\nvoid main () {\n  vec2 uv = rotate((vUv - 0.5) * uResolution, uRotation);\n  float step = getStep(uv);\n  float multiplier = sign(uv.x);\n\n  uv = rotate(uv, -uRotation);\n\n  float aspect = uResolution.x / uResolution.y;\n\n  float interpStep = multiplier * step;\n  float strength = step / (uLineCount * 0.5);\n  vec2 rotated = vec2(cos(uRotation), sin(uRotation));\n\n  interpStep -= multiplier * 0.5;\n\n  vec2 centered = interpStep * uLineSize * vec2(aspect, 1.0) * uOffsetScale * rotated;\n\n  uv += uShift * uResolution * uShiftIntensity * ease((step + 1.0) / uLineCount);\n  uv = (uv - centered) * (2.0 - uScale + strength * uBulge) + centered;\n  uv /= uResolution;\n  uv += 0.5;\n  uv = mod(uv * -sign(mod(uv, 2.0) - 1.0), 1.0);\n\n  vec4 tx = texture2D(uImage, uv);\n  tx.xyz *= tx.a;\n\n  gl_FragColor = tx;\n}\n",uniforms:{uResolution:[1,1],uShift:[0,0]}},n)]),(0,f.A)(r,"isIntersecting",!1),(0,f.A)(r,"onIntersection",(function(t){r.isIntersecting=t,r.interaction.setIsIntersecting(t)})),(0,f.A)(r,"onScrollProgress",(function(t){r.interaction.setScrollProgress(t)})),r.autoUpdate=!1,r.updateInteraction(),r.setSize(),r}return(0,s.A)(e,t),(0,r.A)(e,[{key:"updateInteraction",value:function(){this.interaction&&this.interaction.destroy();var t=(0,l.A)(this.props.interactionType);this.interaction=new t({shiftUniform:this.uniforms.uShift,props:this.props,node:this.node.closest("section")||this.node}),this.interaction.setIsIntersecting(this.isIntersecting)}},{key:"onUpdateProps",value:function(t){m(e,"onUpdateProps",this,3)([t]),this.props.interactionType!==t.interactionType?this.updateInteraction():this.interaction.setProps(this.props)}},{key:"getUniformsFromProps",value:function(){var t=this.props,e=t.rotation,n=t.intensity,o=t.offsetScaleX,r=t.offsetScaleY,i=t.scale,u=t.shiftIntensity;return{uRotation:e*Math.PI/180,uBulge:.01*n,uOffsetScale:[.01*o,.01*r],uScale:.01*i,uShiftIntensity:.01*u}}},{key:"update",value:function(){this.interaction.update()&&(this.isDirty=!0)}},{key:"onRefresh",value:function(){m(e,"onRefresh",this,3)([]),this.setSize()}},{key:"setSize",value:function(){var t=this.canvas,e=t.width,n=t.height,o=this.props,r=o.size,i=o.contextScale,u=Math.sqrt(e*e+n*n),c=Math.ceil(u/(r*i)),s=c*(r*i);this.uniforms.uLineSize=r*i,this.uniforms.uLineCount=c,this.uniforms.uLineRegionSize=s,this.uniforms.uResolution[0]=e,this.uniforms.uResolution[1]=n,this.interaction.setImmediate()}},{key:"onDestroy",value:function(){m(e,"onDestroy",this,3)([]),this.interaction.destroy()}}])}(a.A);(0,f.A)(d,"defaultProps",{intensity:0,size:0,offsetScaleX:0,offsetScaleY:0,rotation:0,scale:0,interactionType:"none",shiftIntensity:0,shiftSpeed:0,contextScale:1,scrollProgress:-1,mouseX:-1,mouseY:-1})},94570:function(t,e,n){n.r(e);n(94226);var o=n(27478);function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}function i(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,u(o.key),o)}}function u(t){var e=function(t,e){if("object"!=r(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var o=n.call(t,e||"default");if("object"!=r(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==r(e)?e:e+""}function c(t,e,n){return e=f(e),function(t,e){if(e&&("object"===r(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,s()?Reflect.construct(e,n||[],f(t).constructor):e.apply(t,n))}function s(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(s=function(){return!!t})()}function f(t){return f=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},f(t)}function a(t,e){return a=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},a(t,e)}var l=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),c(this,e,[t,o.A])}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&a(t,e)}(e,t),n=e,r&&i(n.prototype,r),u&&i(n,u),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,u}(n(61269).A);e.default=function(t){return new l(t)}},63718:function(t,e,n){n.r(e);n(94226);var o=n(27478);function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}function i(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,u(o.key),o)}}function u(t){var e=function(t,e){if("object"!=r(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var o=n.call(t,e||"default");if("object"!=r(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==r(e)?e:e+""}function c(t,e,n){return e=f(e),function(t,e){if(e&&("object"===r(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,s()?Reflect.construct(e,n||[],f(t).constructor):e.apply(t,n))}function s(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(s=function(){return!!t})()}function f(t){return f=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},f(t)}function a(t,e){return a=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},a(t,e)}var l=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),c(this,e,[t,o.A])}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&a(t,e)}(e,t),n=e,r&&i(n.prototype,r),u&&i(n,u),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,u}(n(94926).A);e.default=function(t){return new l(t)}},90991:function(t,e,n){n.d(e,{A:function(){return r}});var o=n(53954);function r(){return r="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=(0,o.A)(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(arguments.length<3?t:n):i.value}},r.apply(this,arguments)}}}]);